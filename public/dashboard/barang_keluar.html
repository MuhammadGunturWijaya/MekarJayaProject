<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barang Keluar - Mekar Jaya</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0c4a6e 0%, #0e7490 50%, #06b6d4 100%);
            background-attachment: fixed;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: linear-gradient(180deg, #164e63 0%, #0e7490 100%);
            padding: 25px 20px;
            z-index: 1000;
            transition: transform 0.3s ease;
            overflow-y: auto;
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.2);
        }

        .sidebar.hidden {
            transform: translateX(-100%);
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px 15px;
            margin-bottom: 35px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo-section .icon {
            font-size: 36px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .logo-section h2 {
            color: white;
            font-size: 22px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .logo-section .badge {
            background: linear-gradient(135deg, #22d3ee, #06b6d4);
            color: white;
            font-size: 10px;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(34, 211, 238, 0.4);
        }

        .menu-section {
            margin-bottom: 30px;
        }

        .menu-label {
            color: rgba(255, 255, 255, 0.5);
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 15px;
            margin-bottom: 12px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 14px 18px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            border-radius: 15px;
            margin-bottom: 6px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            font-size: 15px;
            position: relative;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 0;
            background: linear-gradient(180deg, #22d3ee, #06b6d4);
            border-radius: 0 4px 4px 0;
            transition: height 0.3s ease;
        }

        .menu-item:hover::before {
            height: 60%;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            transform: translateX(5px);
        }

        .menu-item.active {
            background: linear-gradient(135deg, rgba(34, 211, 238, 0.3), rgba(6, 182, 212, 0.2));
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(34, 211, 238, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .menu-item.active::before {
            height: 60%;
        }

        .menu-item .icon {
            font-size: 22px;
            width: 28px;
            text-align: center;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }

        .menu-item .badge {
            margin-left: auto;
            background: linear-gradient(135deg, #f43f5e, #e11d48);
            color: white;
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(244, 63, 94, 0.4);
        }

        .user-profile {
            position: absolute;
            bottom: 25px;
            left: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 18px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #22d3ee, #06b6d4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 12px rgba(34, 211, 238, 0.4);
        }

        .user-info h4 {
            color: white;
            font-size: 14px;
            margin-bottom: 3px;
            font-weight: 600;
        }

        .user-info p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
        }

        .logout-btn {
            margin-left: auto;
            background: rgba(244, 63, 94, 0.2);
            border: none;
            color: white;
            padding: 10px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: rgba(244, 63, 94, 0.4);
            transform: scale(1.1);
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            padding: 25px;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }

        .main-content.expanded {
            margin-left: 0;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px 30px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .header-left h1 {
            background: linear-gradient(135deg, #0c4a6e, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 28px;
            margin-bottom: 6px;
            font-weight: 800;
        }

        .header-left p {
            color: #64748b;
            font-size: 15px;
        }

        .header-right {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            position: relative;
            display: flex;
        }

        .search-box input {
            padding: 12px 18px 12px 45px;
            border: 2px solid rgba(14, 116, 144, 0.2);
            border-radius: 15px;
            width: 240px;
            font-size: 14px;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.9);
        }

        .search-box input:focus {
            outline: none;
            border-color: #0e7490;
            box-shadow: 0 0 0 4px rgba(14, 116, 144, 0.1);
            background: white;
        }

        .search-box .icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
        }

        .notification-btn {
            position: relative;
            background: linear-gradient(135deg, #0e7490, #06b6d4);
            border: none;
            padding: 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(14, 116, 144, 0.3);
        }

        .notification-btn:hover {
            transform: scale(1.05) rotate(-5deg);
            box-shadow: 0 6px 20px rgba(14, 116, 144, 0.4);
        }

        .notification-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: linear-gradient(135deg, #f43f5e, #e11d48);
            color: white;
            font-size: 10px;
            padding: 3px 6px;
            border-radius: 10px;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(244, 63, 94, 0.4);
        }

        .menu-toggle {
            display: none;
            background: linear-gradient(135deg, #0e7490, #06b6d4);
            border: none;
            color: white;
            padding: 12px 18px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(14, 116, 144, 0.3);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #0e7490, #06b6d4);
            color: white;
            box-shadow: 0 4px 12px rgba(14, 116, 144, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(14, 116, 144, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: #0c4a6e;
            border: 2px solid rgba(14, 116, 144, 0.2);
        }

        .btn-secondary:hover {
            background: white;
            border-color: #0e7490;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f43f5e, #e11d48);
            color: white;
            box-shadow: 0 4px 12px rgba(244, 63, 94, 0.3);
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(244, 63, 94, 0.4);
        }

        /* Filter Section */
        .filter-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .filter-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            font-size: 13px;
            font-weight: 600;
            color: #0c4a6e;
            margin-bottom: 8px;
        }

        .filter-input,
        .filter-select {
            padding: 10px 12px;
            border: 2px solid rgba(14, 116, 144, 0.2);
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
            background: white;
        }

        .filter-input:focus,
        .filter-select:focus {
            outline: none;
            border-color: #0e7490;
            box-shadow: 0 0 0 4px rgba(14, 116, 144, 0.1);
        }

        .filter-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stat-icon.blue {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
        }

        .stat-icon.green {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .stat-icon.yellow {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }

        .stat-icon.red {
            background: linear-gradient(135deg, #f43f5e, #e11d48);
        }

        .stat-label {
            color: #64748b;
            font-size: 13px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .stat-value {
            color: #0c4a6e;
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 5px;
        }

        .stat-description {
            color: #94a3b8;
            font-size: 12px;
        }

        /* Table */
        .table-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.5);
            margin-bottom: 25px;
        }

        .table-header {
            padding: 20px;
            border-bottom: 1px solid rgba(14, 116, 144, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-header h3 {
            color: #0c4a6e;
            font-size: 18px;
            font-weight: 800;
        }

        .table-actions {
            display: flex;
            gap: 10px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table thead {
            background: linear-gradient(135deg, rgba(14, 116, 144, 0.1), rgba(6, 182, 212, 0.1));
        }

        .data-table th {
            padding: 15px 12px;
            text-align: left;
            font-size: 12px;
            font-weight: 700;
            color: #0c4a6e;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid rgba(14, 116, 144, 0.1);
        }

        .data-table tbody tr {
            transition: all 0.3s;
            border-bottom: 1px solid rgba(14, 116, 144, 0.05);
        }

        .data-table tbody tr:hover {
            background: rgba(14, 116, 144, 0.05);
        }

        .data-table tbody tr:last-child {
            border-bottom: none;
        }

        .data-table td {
            padding: 15px 12px;
            font-size: 14px;
            color: #475569;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            display: inline-block;
        }

        .status-badge.success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
            color: #059669;
        }

        .status-badge.warning {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(217, 119, 6, 0.2));
            color: #d97706;
        }

        .status-badge.danger {
            background: linear-gradient(135deg, rgba(244, 63, 94, 0.2), rgba(225, 29, 72, 0.2));
            color: #e11d48;
        }

        .action-btn {
            background: rgba(14, 116, 144, 0.1);
            border: none;
            padding: 6px 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            margin: 0 2px;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, #0e7490, #06b6d4);
            transform: scale(1.1);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-top: 1px solid rgba(14, 116, 144, 0.1);
        }

        .pagination-info {
            color: #64748b;
            font-size: 13px;
        }

        .pagination-controls {
            display: flex;
            gap: 8px;
        }

        .pagination-btn {
            padding: 8px 12px;
            border: 1px solid rgba(14, 116, 144, 0.2);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }

        .pagination-btn:hover {
            background: rgba(14, 116, 144, 0.1);
            border-color: #0e7490;
        }

        .pagination-btn.active {
            background: linear-gradient(135deg, #0e7490, #06b6d4);
            color: white;
            border-color: #0e7490;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(12, 74, 110, 0.7);
            backdrop-filter: blur(5px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-30px) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(14, 116, 144, 0.1);
        }

        .modal-header h3 {
            color: #0c4a6e;
            font-size: 22px;
            font-weight: 800;
            margin: 0;
        }

        .close-modal {
            background: rgba(244, 63, 94, 0.1);
            border: none;
            padding: 10px 12px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
            color: #e11d48;
        }

        .close-modal:hover {
            background: rgba(244, 63, 94, 0.2);
            transform: scale(1.1) rotate(90deg);
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #0c4a6e;
            margin-bottom: 8px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(14, 116, 144, 0.2);
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s;
            background: white;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #0e7490;
            box-shadow: 0 0 0 4px rgba(14, 116, 144, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-full {
            grid-column: 1 / -1;
        }

        .product-items {
            margin-top: 10px;
        }

        .product-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 10px;
            padding: 12px;
            background: rgba(14, 116, 144, 0.05);
            border-radius: 8px;
            margin-bottom: 10px;
            align-items: center;
        }

        .add-product-btn {
            background: rgba(14, 116, 144, 0.1);
            border: 2px dashed rgba(14, 116, 144, 0.3);
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            color: #0e7490;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .add-product-btn:hover {
            background: rgba(14, 116, 144, 0.2);
            border-color: #0e7490;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid rgba(14, 116, 144, 0.1);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 18px;
            }

            .menu-toggle {
                display: block;
            }

            .header {
                flex-direction: column;
                gap: 18px;
                padding: 20px;
            }

            .header-left {
                width: 100%;
            }

            .header-right {
                width: 100%;
                justify-content: space-between;
            }

            .search-box {
                flex: 1;
            }

            .search-box input {
                width: 100%;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .product-item {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 12px;
            }

            .header-left h1 {
                font-size: 22px;
            }

            .table-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .table-actions {
                width: 100%;
                justify-content: space-between;
            }

            .pagination {
                flex-direction: column;
                gap: 15px;
            }

            .modal-content {
                padding: 20px;
            }
        }

        /* Overlay */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(12, 74, 110, 0.7);
            backdrop-filter: blur(5px);
            z-index: 999;
        }

        .overlay.active {
            display: block;
        }

        /* Loading */
        .loading-overlay {
            position: fixed;
            inset: 0;
            display: none;
            justify-content: center;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            z-index: 9999;
        }

        .loading-overlay.active {
            display: flex;
        }

        /* Card loading */
        .dots-loader {
            background: linear-gradient(120deg,
                    rgba(90, 167, 255, 0.35),
                    rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px);
            padding: 35px 55px;
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow:
                0 8px 30px rgba(90, 167, 255, 0.35),
                0 12px 40px rgba(0, 0, 0, 0.15);
            text-align: center;
        }

        /* Dots animation wrapper */
        .dots {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
        }

        /* Each dot */
        .dots span {
            width: 12px;
            height: 12px;
            background: #7b5dfc;
            border-radius: 50%;
            animation: pulseDots 1.2s infinite ease-in-out;
            box-shadow: 0 0 10px rgba(123, 93, 252, 0.6);
        }

        /* Animation delays for wave effect */
        .dots span:nth-child(1) {
            animation-delay: 0s;
        }

        .dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        /* Pulse keyframes */
        @keyframes pulseDots {
            0% {
                transform: scale(0.6);
                opacity: 0.5;
            }

            40% {
                transform: scale(1.2);
                opacity: 1;
            }

            100% {
                transform: scale(0.6);
                opacity: 0.5;
            }
        }

        /* Fade Up saat muncul */
        @keyframes fadeUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading text */
        .loading-title {
            font-size: 14px;
            color: #444;
            letter-spacing: 1px;
            margin: 0;
        }
    </style>
</head>

<body>
    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="logo-section">
            <span class="icon">üé£</span>
            <div>
                <h2>Mekar Jaya</h2>
                <span class="badge">ADMIN</span>
            </div>
        </div>
        <a href="../dashboard/kasir.html" class="menu-item" data-loading="true">
            <span class="icon">üñ•Ô∏è</span>
            <span>Kasir</span>
        </a>
        <div class="menu-section">
            <div class="menu-label">Menu Utama</div>
            <a href="../dashboard/dashboard.html" class="menu-item" data-loading="true">
                <span class="icon">üìä</span>
                <span>Dashboard</span>
            </a>
            <a href="../dashboard/master_data.html" class="menu-item" data-loading="true">
                <span class="icon">üßæ</span>
                <span>Master Data</span>
            </a>
            <a href="../dashboard/barang_masuk.html" class="menu-item" data-loading="true">
                <span class="icon">üöö</span>
                <span>Barang Masuk</span>
            </a>
            <a href="../dashboard/barang_keluar.html" class="menu-item active" data-loading="true">
                <span class="icon">üì¶</span>
                <span>Barang Keluar</span>
                <span class="badge">8</span>
            </a>
            <a href="../dashboard/generate_laporan.html" class="menu-item" data-loading="true">
                <span class="icon">üìù</span>
                <span>Generate Laporan</span>
            </a>
            <a href="../dashboard/riwayat_transaksi.html" class="menu-item" data-loading="true">
                <span class="icon">üìú</span>
                <span>Riwayat Transaksi</span>
            </a>
        </div>

        <div class="menu-section">
            <div class="menu-label">Manajemen</div>
            <a href="../dashboard/pengaturan.html" class="menu-item" data-loading="true">
                <span class="icon">‚öôÔ∏è</span>
                <span>Pengaturan</span>
            </a>
            <a href="../dashboard/notifikasi.html" class="menu-item" data-loading="true">
                <span class="icon">üîî</span>
                <span>Notifikasi</span>
            </a>
            <a href="#" class="menu-item" onclick="location.href='../pages/login.html'">
                <span class="icon">üö™</span>
                <span>Logout</span>
            </a>
        </div>
    </aside>

    <!-- loading -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content dots-loader">
            <div class="dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <p class="loading-title">Loading...</p>
        </div>
    </div>

    <script>
        // Fungsi untuk menampilkan loading
        function showLoading() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            loadingOverlay.classList.add('active');
        }

        // Fungsi untuk menyembunyikan loading
        function hideLoading() {
            const loadingOverlay = document.getElementById('loadingOverlay');
            loadingOverlay.classList.remove('active');
        }

        // Versi lebih modern dengan data attributes
        document.addEventListener('DOMContentLoaded', function () {
            const menuItems = document.querySelectorAll('.menu-item[data-loading="true"]');

            menuItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetUrl = this.href;

                    showLoading();

                    setTimeout(() => {
                        window.location.href = targetUrl;
                    }, 1200);
                });
            });
        });

        // Untuk handle manual loading (jika perlu)
        function navigateWithLoading(url) {
            showLoading();
            setTimeout(() => {
                location.href = url;
            }, 1500);
        }
    </script>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h1>Manajemen Barang Keluar</h1>
                <p>Kelola pengeluaran barang dari gudang</p>
            </div>
            <div class="header-right">
                <button class="menu-toggle" id="menuToggle">‚ò∞</button>
                <div class="search-box">
                    <span class="icon">üîç</span>
                    <input type="text" placeholder="Cari barang keluar...">
                </div>
                <button class="notification-btn">
                    üîî
                    <span class="notification-badge">5</span>
                </button>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="btn btn-primary" id="addOutgoingBtn">
                <span>‚ûï</span>
                Tambah Barang Keluar
            </button>
            <button class="btn btn-secondary" id="exportBtn">
                <span>üì§</span>
                Export Data
            </button>
            <button class="btn btn-secondary" id="printBtn">
                <span>üñ®Ô∏è</span>
                Cetak Laporan
            </button>
            <button class="btn btn-danger" id="deleteSelectedBtn">
                <span>üóëÔ∏è</span>
                Hapus Terpilih
            </button>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon blue">üì¶</div>
                <div class="stat-label">Total Barang Keluar</div>
                <div class="stat-value">142 Item</div>
                <div class="stat-description">+12 dari bulan lalu</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon green">üí∞</div>
                <div class="stat-label">Total Nilai</div>
                <div class="stat-value">Rp 45.2M</div>
                <div class="stat-description">+Rp 3.5M dari bulan lalu</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon yellow">üìä</div>
                <div class="stat-label">Rata-rata per Hari</div>
                <div class="stat-value">8 Item</div>
                <div class="stat-description">Stabil dari minggu lalu</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon red">‚ö†Ô∏è</div>
                <div class="stat-label">Pending Approval</div>
                <div class="stat-value">3 Item</div>
                <div class="stat-description">Perlu persetujuan</div>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="filter-section">
            <div class="filter-row">
                <div class="filter-group">
                    <label class="filter-label">Tanggal Mulai</label>
                    <input type="date" class="filter-input" id="startDate">
                </div>
                <div class="filter-group">
                    <label class="filter-label">Tanggal Akhir</label>
                    <input type="date" class="filter-input" id="endDate">
                </div>
                <div class="filter-group">
                    <label class="filter-label">Status</label>
                    <select class="filter-select" id="statusFilter">
                        <option value="all">Semua Status</option>
                        <option value="completed">Selesai</option>
                        <option value="pending">Pending</option>
                        <option value="cancelled">Dibatalkan</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Kategori Barang</label>
                    <select class="filter-select" id="categoryFilter">
                        <option value="all">Semua Kategori</option>
                        <option value="joran">Joran</option>
                        <option value="reel">Reel</option>
                        <option value="umpan">Umpan</option>
                        <option value="aksesoris">Aksesoris</option>
                    </select>
                </div>
            </div>
            <div class="filter-actions">
                <button class="btn btn-primary" id="applyFilter">Terapkan Filter</button>
                <button class="btn btn-secondary" id="resetFilter">Reset Filter</button>
            </div>
        </div>

        <!-- Table -->
        <div class="table-container">
            <div class="table-header">
                <h3>Daftar Barang Keluar</h3>
                <div class="table-actions">
                    <select class="filter-select" id="rowsPerPage">
                        <option value="10">10 baris</option>
                        <option value="25">25 baris</option>
                        <option value="50">50 baris</option>
                    </select>
                    <button class="btn btn-secondary" id="refreshBtn">üîÑ Refresh</button>
                </div>
            </div>

            <div class="table-wrapper">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th style="width: 30px;">
                                <input type="checkbox" id="selectAll">
                            </th>
                            <th>ID Transaksi</th>
                            <th>Tanggal</th>
                            <th>Barang</th>
                            <th>Jumlah</th>
                            <th>Tujuan</th>
                            <th>Status</th>
                            <th>Petugas</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="outgoingTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="pagination">
                <div class="pagination-info" id="paginationInfo">
                    Menampilkan 1-10 dari 142 item
                </div>
                <div class="pagination-controls">
                    <button class="pagination-btn" id="prevPage">‚Üê Sebelumnya</button>
                    <button class="pagination-btn active">1</button>
                    <button class="pagination-btn">2</button>
                    <button class="pagination-btn">3</button>
                    <button class="pagination-btn">...</button>
                    <button class="pagination-btn">15</button>
                    <button class="pagination-btn" id="nextPage">Selanjutnya ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- Modal Tambah/Edit Barang Keluar -->
        <div class="modal-overlay" id="outgoingModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Tambah Barang Keluar</h3>
                    <button class="close-modal" id="closeModal">‚úï</button>
                </div>

                <form id="outgoingForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Tanggal Keluar *</label>
                            <input type="datetime-local" class="form-input" id="outgoingDate" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">No. Transaksi *</label>
                            <input type="text" class="form-input" id="transactionId" value="BK-2024-001" readonly>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Tujuan *</label>
                            <select class="form-select" id="destination" required>
                                <option value="">Pilih Tujuan</option>
                                <option value="penjualan">Penjualan</option>
                                <option value="transfer_gudang">Transfer Gudang</option>
                                <option value="sample">Sample/Display</option>
                                <option value="retur">Retur Supplier</option>
                                <option value="lainnya">Lainnya</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Keterangan Tujuan</label>
                            <input type="text" class="form-input" id="destinationNote"
                                placeholder="Contoh: Toko Mekar Jaya Cabang Surabaya">
                        </div>
                    </div>

                    <div class="form-group form-full">
                        <label class="form-label">Barang yang Dikeluarkan *</label>
                        <div class="product-items" id="productItems">
                            <!-- Item produk akan ditambahkan di sini -->
                        </div>
                        <button type="button" class="add-product-btn" id="addProductBtn">
                            + Tambah Barang
                        </button>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Petugas *</label>
                            <input type="text" class="form-input" id="officer" value="Admin Mekar Jaya" readonly>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Status *</label>
                            <select class="form-select" id="status" required>
                                <option value="pending">Pending</option>
                                <option value="completed">Selesai</option>
                                <option value="cancelled">Dibatalkan</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group form-full">
                        <label class="form-label">Catatan</label>
                        <textarea class="form-textarea" id="notes"
                            placeholder="Tambahkan catatan jika diperlukan..."></textarea>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">Batal</button>
                        <button type="submit" class="btn btn-primary" id="saveBtn">Simpan Barang Keluar</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script>
        // Data contoh barang keluar
        const outgoingData = [
            {
                id: 'BK-2024-001',
                date: '2024-01-15 14:30',
                items: [
                    { name: 'Joran Carbon Pro X1', quantity: 5, unit: 'pcs' }
                ],
                totalItems: 5,
                destination: 'penjualan',
                destinationNote: 'Toko Mekar Jaya Cabang Surabaya',
                status: 'completed',
                officer: 'Admin Mekar Jaya',
                notes: 'Pengiriman reguler'
            },
            {
                id: 'BK-2024-002',
                date: '2024-01-14 10:15',
                items: [
                    { name: 'Reel Shimano 5000', quantity: 3, unit: 'pcs' },
                    { name: 'Umpan Set Premium', quantity: 10, unit: 'set' }
                ],
                totalItems: 13,
                destination: 'transfer_gudang',
                destinationNote: 'Gudang Pusat Jakarta',
                status: 'completed',
                officer: 'Budi Santoso',
                notes: 'Transfer stok'
            },
            {
                id: 'BK-2024-003',
                date: '2024-01-13 09:30',
                items: [
                    { name: 'Tas Pancing Waterproof', quantity: 2, unit: 'pcs' }
                ],
                totalItems: 2,
                destination: 'sample',
                destinationNote: 'Display Showroom',
                status: 'pending',
                officer: 'Siti Nurhaliza',
                notes: 'Untuk display promosi'
            },
            {
                id: 'BK-2024-004',
                date: '2024-01-12 16:45',
                items: [
                    { name: 'Kail Set Professional', quantity: 8, unit: 'set' }
                ],
                totalItems: 8,
                destination: 'retur',
                destinationNote: 'Supplier PT. Pancing Jaya',
                status: 'completed',
                officer: 'Admin Mekar Jaya',
                notes: 'Barang cacat produksi'
            },
            {
                id: 'BK-2024-005',
                date: '2024-01-11 11:20',
                items: [
                    { name: 'Joran Carbon Pro X1', quantity: 2, unit: 'pcs' },
                    { name: 'Reel Shimano 5000', quantity: 2, unit: 'pcs' },
                    { name: 'Tas Pancing Waterproof', quantity: 1, unit: 'pcs' }
                ],
                totalItems: 5,
                destination: 'penjualan',
                destinationNote: 'Pelanggan Corporate - PT. Maju Jaya',
                status: 'completed',
                officer: 'Ahmad Rizki',
                notes: 'Pesanan khusus dengan diskon 10%'
            }
        ];

        // Data produk tersedia
        const availableProducts = [
            { id: 1, name: 'Joran Carbon Pro X1', stock: 25, unit: 'pcs' },
            { id: 2, name: 'Reel Shimano 5000', stock: 42, unit: 'pcs' },
            { id: 3, name: 'Umpan Set Premium', stock: 8, unit: 'set' },
            { id: 4, name: 'Tas Pancing Waterproof', stock: 31, unit: 'pcs' },
            { id: 5, name: 'Kail Set Professional', stock: 0, unit: 'set' },
            { id: 6, name: 'Line Pancing 100m', stock: 15, unit: 'roll' },
            { id: 7, name: 'Pelampung Pancing', stock: 22, unit: 'pcs' },
            { id: 8, name: 'Box Pancing Portable', stock: 7, unit: 'pcs' }
        ];

        // Elements
        const outgoingTableBody = document.getElementById('outgoingTableBody');
        const outgoingModal = document.getElementById('outgoingModal');
        const modalTitle = document.getElementById('modalTitle');
        const outgoingForm = document.getElementById('outgoingForm');
        const productItems = document.getElementById('productItems');
        const addProductBtn = document.getElementById('addProductBtn');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const addOutgoingBtn = document.getElementById('addOutgoingBtn');
        const selectAll = document.getElementById('selectAll');

        // Load data ke tabel
        function loadOutgoingTable() {
            outgoingTableBody.innerHTML = '';

            outgoingData.forEach((item, index) => {
                const row = document.createElement('tr');

                // Format status badge
                let statusBadge = '';
                if (item.status === 'completed') {
                    statusBadge = '<span class="status-badge success">Selesai</span>';
                } else if (item.status === 'pending') {
                    statusBadge = '<span class="status-badge warning">Pending</span>';
                } else {
                    statusBadge = '<span class="status-badge danger">Dibatalkan</span>';
                }

                // Format tujuan
                let destinationText = '';
                switch (item.destination) {
                    case 'penjualan':
                        destinationText = 'Penjualan';
                        break;
                    case 'transfer_gudang':
                        destinationText = 'Transfer Gudang';
                        break;
                    case 'sample':
                        destinationText = 'Sample/Display';
                        break;
                    case 'retur':
                        destinationText = 'Retur Supplier';
                        break;
                    default:
                        destinationText = 'Lainnya';
                }

                row.innerHTML = `
                    <td><input type="checkbox" class="row-checkbox" data-id="${item.id}"></td>
                    <td><strong>${item.id}</strong></td>
                    <td>${item.date}</td>
                    <td>
                        <div>${item.items[0].name}</div>
                        <small style="color: #64748b;">+${item.items.length - 1} barang lainnya</small>
                    </td>
                    <td>${item.totalItems} item</td>
                    <td>${destinationText}</td>
                    <td>${statusBadge}</td>
                    <td>${item.officer}</td>
                    <td>
                        <button class="action-btn view-btn" data-id="${item.id}">üëÅÔ∏è</button>
                        <button class="action-btn edit-btn" data-id="${item.id}">‚úèÔ∏è</button>
                        <button class="action-btn delete-btn" data-id="${item.id}">üóëÔ∏è</button>
                    </td>
                `;

                outgoingTableBody.appendChild(row);
            });

            // Add event listeners untuk tombol aksi
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    viewOutgoingItem(id);
                });
            });

            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    editOutgoingItem(id);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const id = this.getAttribute('data-id');
                    deleteOutgoingItem(id);
                });
            });

            document.querySelectorAll('.row-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectAllState);
            });
        }

        // Tambahkan setelah fungsi loadOutgoingTable()

        // Fungsi untuk menampilkan detail barang keluar dalam modal
        function viewOutgoingItem(id) {
            const item = outgoingData.find(i => i.id === id);
            if (!item) return;

            // Format tujuan
            let destinationText = '';
            switch (item.destination) {
                case 'penjualan':
                    destinationText = 'Penjualan';
                    break;
                case 'transfer_gudang':
                    destinationText = 'Transfer Gudang';
                    break;
                case 'sample':
                    destinationText = 'Sample/Display';
                    break;
                case 'retur':
                    destinationText = 'Retur Supplier';
                    break;
                default:
                    destinationText = 'Lainnya';
            }

            // Format status
            let statusText = '';
            switch (item.status) {
                case 'completed':
                    statusText = 'Selesai';
                    break;
                case 'pending':
                    statusText = 'Pending';
                    break;
                case 'cancelled':
                    statusText = 'Dibatalkan';
                    break;
            }

            // Format daftar barang
            let itemsList = item.items.map(product =>
                `‚Ä¢ ${product.name} - ${product.quantity} ${product.unit}`
            ).join('\n');

            // Tampilkan detail dalam modal custom
            const detailHTML = `
        <div class="modal-overlay active" id="detailModal">
            <div class="modal-content" style="max-width: 600px;">
                <div class="modal-header">
                    <h3>üìã Detail Barang Keluar</h3>
                    <button class="close-modal" onclick="closeDetailModal()">‚úï</button>
                </div>
                <div style="padding: 20px;">
                    <div style="display: grid; gap: 15px;">
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px; background: rgba(14, 116, 144, 0.05); border-radius: 8px;">
                            <strong style="color: #0c4a6e;">ID Transaksi:</strong>
                            <span>${item.id}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px;">
                            <strong style="color: #0c4a6e;">Tanggal:</strong>
                            <span>${item.date}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px; background: rgba(14, 116, 144, 0.05); border-radius: 8px;">
                            <strong style="color: #0c4a6e;">Tujuan:</strong>
                            <span>${destinationText}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px;">
                            <strong style="color: #0c4a6e;">Keterangan Tujuan:</strong>
                            <span>${item.destinationNote}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px; background: rgba(14, 116, 144, 0.05); border-radius: 8px;">
                            <strong style="color: #0c4a6e;">Status:</strong>
                            <span>${statusText}</span>
                        </div>
                        <div style="display: grid; grid-template-columns: 140px 1fr; gap: 10px; padding: 10px;">
                            <strong style="color: #0c4a6e;">Petugas:</strong>
                            <span>${item.officer}</span>
                        </div>
                        <div style="padding: 15px; background: rgba(6, 182, 212, 0.1); border-radius: 8px; border-left: 4px solid #06b6d4;">
                            <strong style="color: #0c4a6e; display: block; margin-bottom: 10px;">Daftar Barang:</strong>
                            <div style="white-space: pre-line; color: #475569; line-height: 1.8;">${itemsList}</div>
                            <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(14, 116, 144, 0.2);">
                                <strong style="color: #0c4a6e;">Total: ${item.totalItems} item</strong>
                            </div>
                        </div>
                        ${item.notes ? `
                        <div style="padding: 10px;">
                            <strong style="color: #0c4a6e; display: block; margin-bottom: 8px;">Catatan:</strong>
                            <div style="padding: 10px; background: rgba(245, 158, 11, 0.1); border-radius: 8px; color: #475569;">
                                ${item.notes}
                            </div>
                        </div>
                        ` : ''}
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeDetailModal()">Tutup</button>
                    <button class="btn btn-primary" onclick="closeDetailModal(); editOutgoingItem('${item.id}')">
                        ‚úèÔ∏è Edit
                    </button>
                </div>
            </div>
        </div>
    `;

            // Hapus modal detail sebelumnya jika ada
            const existingModal = document.getElementById('detailModal');
            if (existingModal) {
                existingModal.remove();
            }

            // Tambahkan modal ke body
            document.body.insertAdjacentHTML('beforeend', detailHTML);
        }

        // Fungsi untuk menutup modal detail
        function closeDetailModal() {
            const detailModal = document.getElementById('detailModal');
            if (detailModal) {
                detailModal.classList.remove('active');
                setTimeout(() => detailModal.remove(), 300);
            }
        }

        // Fungsi hapus dengan konfirmasi yang lebih baik
        function deleteOutgoingItem(id) {
            const item = outgoingData.find(i => i.id === id);
            if (!item) return;

            // Buat modal konfirmasi custom
            const confirmHTML = `
        <div class="modal-overlay active" id="confirmDeleteModal">
            <div class="modal-content" style="max-width: 450px;">
                <div class="modal-header" style="border-bottom: 2px solid rgba(244, 63, 94, 0.2);">
                    <h3 style="color: #e11d48;">‚ö†Ô∏è Konfirmasi Hapus</h3>
                    <button class="close-modal" onclick="closeConfirmModal()">‚úï</button>
                </div>
                <div style="padding: 25px 20px;">
                    <p style="color: #475569; margin-bottom: 15px; line-height: 1.6;">
                        Apakah Anda yakin ingin menghapus data barang keluar berikut?
                    </p>
                    <div style="background: rgba(244, 63, 94, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid #e11d48;">
                        <div style="margin-bottom: 8px;">
                            <strong style="color: #0c4a6e;">ID:</strong> 
                            <span style="color: #475569;">${item.id}</span>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <strong style="color: #0c4a6e;">Tanggal:</strong> 
                            <span style="color: #475569;">${item.date}</span>
                        </div>
                        <div>
                            <strong style="color: #0c4a6e;">Total Item:</strong> 
                            <span style="color: #475569;">${item.totalItems} item</span>
                        </div>
                    </div>
                    <p style="color: #e11d48; font-size: 13px; margin-top: 15px; font-weight: 600;">
                        ‚ö†Ô∏è Data yang dihapus tidak dapat dikembalikan!
                    </p>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeConfirmModal()">Batal</button>
                    <button class="btn btn-danger" onclick="confirmDelete('${id}')">
                        üóëÔ∏è Hapus Data
                    </button>
                </div>
            </div>
        </div>
    `;

            document.body.insertAdjacentHTML('beforeend', confirmHTML);
        }

        // Fungsi untuk menutup modal konfirmasi
        function closeConfirmModal() {
            const confirmModal = document.getElementById('confirmDeleteModal');
            if (confirmModal) {
                confirmModal.classList.remove('active');
                setTimeout(() => confirmModal.remove(), 300);
            }
        }

        // Fungsi untuk konfirmasi hapus
        function confirmDelete(id) {
            // Tutup modal konfirmasi
            closeConfirmModal();

            // Cari index data
            const index = outgoingData.findIndex(i => i.id === id);

            if (index !== -1) {
                // Hapus data dari array
                outgoingData.splice(index, 1);

                // Reload tabel
                loadOutgoingTable();

                // Tampilkan notifikasi sukses
                showSuccessNotification(`Data barang keluar ${id} berhasil dihapus!`);
            } else {
                showErrorNotification('Data tidak ditemukan!');
            }
        }

        // Fungsi notifikasi sukses
        function showSuccessNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4);
        z-index: 10000;
        animation: slideInRight 0.3s ease-out;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
    `;
            notification.innerHTML = `
        <span style="font-size: 20px;">‚úì</span>
        <span>${message}</span>
    `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Fungsi notifikasi error
        function showErrorNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #f43f5e, #e11d48);
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(244, 63, 94, 0.4);
        z-index: 10000;
        animation: slideInRight 0.3s ease-out;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
    `;
            notification.innerHTML = `
        <span style="font-size: 20px;">‚úï</span>
        <span>${message}</span>
    `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Tambahkan CSS untuk animasi
        const style = document.createElement('style');
        style.textContent = `
    @keyframes slideInRight {
        from {
            transform: translateX(400px);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }
    
    @keyframes slideOutRight {
        from {
            transform: translateX(0);
            opacity: 1;
        }
        to {
            transform: translateX(400px);
            opacity: 0;
        }
    }
`;
        document.head.appendChild(style);

        // Tambah item produk baru ke form
        function addProductItem(product = null) {
            const productItem = document.createElement('div');
            productItem.className = 'product-item';

            // Buat dropdown produk
            let productOptions = '<option value="">Pilih Barang</option>';
            availableProducts.forEach(prod => {
                const selected = product && product.id === prod.id ? 'selected' : '';
                productOptions += `<option value="${prod.id}" ${selected}>${prod.name} (Stok: ${prod.stock} ${prod.unit})</option>`;
            });

            productItem.innerHTML = `
                <select class="form-select product-select" required>
                    ${productOptions}
                </select>
                <input type="number" class="form-input quantity-input" placeholder="Jumlah" min="1" value="${product ? product.quantity : ''}" required>
                <input type="text" class="form-input unit-input" placeholder="Satuan" value="${product ? product.unit : ''}" readonly>
                <input type="text" class="form-input notes-input" placeholder="Catatan (opsional)">
                <button type="button" class="action-btn remove-product-btn">üóëÔ∏è</button>
            `;

            productItems.appendChild(productItem);

            // Event listener untuk remove button
            productItem.querySelector('.remove-product-btn').addEventListener('click', function () {
                productItem.remove();
            });

            // Event listener untuk perubahan produk
            productItem.querySelector('.product-select').addEventListener('change', function () {
                const productId = this.value;
                const selectedProduct = availableProducts.find(p => p.id == productId);
                if (selectedProduct) {
                    productItem.querySelector('.unit-input').value = selectedProduct.unit;
                }
            });
        }

        // View detail barang keluar


        // Edit barang keluar
        function editOutgoingItem(id) {
            const item = outgoingData.find(i => i.id === id);
            if (!item) return;

            modalTitle.textContent = 'Edit Barang Keluar';
            document.getElementById('transactionId').value = item.id;
            document.getElementById('outgoingDate').value = item.date.replace(' ', 'T');
            document.getElementById('destination').value = item.destination;
            document.getElementById('destinationNote').value = item.destinationNote || '';
            document.getElementById('officer').value = item.officer;
            document.getElementById('status').value = item.status;
            document.getElementById('notes').value = item.notes || '';

            // Clear existing product items
            productItems.innerHTML = '';

            // Add product items
            item.items.forEach(product => {
                const prod = availableProducts.find(p => p.name === product.name);
                if (prod) {
                    addProductItem({
                        id: prod.id,
                        quantity: product.quantity,
                        unit: product.unit
                    });
                }
            });

            outgoingModal.classList.add('active');
        }

        // Update state select all checkbox
        function updateSelectAllState() {
            const checkboxes = document.querySelectorAll('.row-checkbox');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            selectAll.checked = checkedCount === checkboxes.length && checkboxes.length > 0;
            selectAll.indeterminate = checkedCount > 0 && checkedCount < checkboxes.length;
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function () {
            loadOutgoingTable();

            // Sidebar toggle
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');

            menuToggle.addEventListener('click', function () {
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
            });

            overlay.addEventListener('click', function () {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
            });

            // Menu items
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.addEventListener('click', function (e) {
                    if (this.href) {
                        e.preventDefault();
                        menuItems.forEach(i => i.classList.remove('active'));
                        this.classList.add('active');

                        if (window.innerWidth <= 768) {
                            sidebar.classList.remove('active');
                            overlay.classList.remove('active');
                        }
                    }
                });
            });

            // Modal handlers
            addOutgoingBtn.addEventListener('click', function () {
                modalTitle.textContent = 'Tambah Barang Keluar';
                outgoingForm.reset();
                productItems.innerHTML = '';
                addProductItem();
                outgoingModal.classList.add('active');
            });

            addProductBtn.addEventListener('click', function () {
                addProductItem();
            });

            closeModal.addEventListener('click', function () {
                outgoingModal.classList.remove('active');
            });

            cancelBtn.addEventListener('click', function () {
                outgoingModal.classList.remove('active');
            });

            outgoingForm.addEventListener('submit', function (e) {
                e.preventDefault();
                // Simulasi penyimpanan data
                alert('Data barang keluar berhasil disimpan!');
                outgoingModal.classList.remove('active');
                loadOutgoingTable();
            });

            // Select all checkbox
            selectAll.addEventListener('change', function () {
                const checkboxes = document.querySelectorAll('.row-checkbox');
                checkboxes.forEach(cb => {
                    cb.checked = this.checked;
                });
            });

            // Export button
            document.getElementById('exportBtn').addEventListener('click', function () {
                alert('Fitur export data akan membuka dialog download file Excel');
            });

            // Print button
            document.getElementById('printBtn').addEventListener('click', function () {
                alert('Membuka preview cetak laporan barang keluar');
            });

            // Delete selected button
            document.getElementById('deleteSelectedBtn').addEventListener('click', function () {
                const selected = Array.from(document.querySelectorAll('.row-checkbox:checked'));
                if (selected.length === 0) {
                    alert('Pilih setidaknya satu item untuk dihapus');
                    return;
                }

                if (confirm(`Hapus ${selected.length} item terpilih?`)) {
                    alert(`${selected.length} item berhasil dihapus`);
                    loadOutgoingTable();
                }
            });

            // Filter buttons
            document.getElementById('applyFilter').addEventListener('click', function () {
                alert('Filter diterapkan');
                loadOutgoingTable();
            });

            document.getElementById('resetFilter').addEventListener('click', function () {
                document.getElementById('startDate').value = '';
                document.getElementById('endDate').value = '';
                document.getElementById('statusFilter').value = 'all';
                document.getElementById('categoryFilter').value = 'all';
                alert('Filter direset');
                loadOutgoingTable();
            });

            // Refresh button
            document.getElementById('refreshBtn').addEventListener('click', function () {
                loadOutgoingTable();
                alert('Data diperbarui');
            });

            // Pagination buttons
            document.getElementById('prevPage').addEventListener('click', function () {
                alert('Navigasi ke halaman sebelumnya');
            });

            document.getElementById('nextPage').addEventListener('click', function () {
                alert('Navigasi ke halaman berikutnya');
            });

            // Logout
            document.querySelector('.logout-btn').addEventListener('click', function () {
                if (confirm('Apakah Anda yakin ingin keluar?')) {
                    alert('Logout berhasil! üëã');
                    window.location.href = '../pages/login.html';
                }
            });

            // Notifications
            document.querySelector('.notification-btn').addEventListener('click', function () {
                alert('üîî Anda memiliki 5 notifikasi baru');
            });

            // Search
            document.querySelector('.search-box input').addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    const query = this.value;
                    if (query) {
                        alert(`üîç Mencari: "${query}"`);
                    }
                }
            });
        });
    </script>
</body>

</html>